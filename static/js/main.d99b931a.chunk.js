(this["webpackJsonpgoit-react-hw03-image-finder"]=this["webpackJsonpgoit-react-hw03-image-finder"]||[]).push([[0],{21:function(e,t,a){e.exports={loader:"Loader_loader__3anxQ"}},22:function(e,t,a){e.exports=a(66)},65:function(e,t,a){},66:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(18),o=a.n(c),i=a(8),l=a(3),m=a(4),s=a(6),u=a(5),h=a(7),g=a(19),d=a.n(g),p="14824365-e6696933d91165e226b0fb92a",f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return d.a.get("https://pixabay.com/api/?q=".concat(e,"&page=").concat(t,"&key=").concat(p,"&image_type=photo&orientation=horizontal&per_page=12"))},b=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={value:""},a.handleChange=function(e){a.setState({value:e.target.value})},a.handleSubmit=function(e){e.preventDefault(),(0,a.props.onSubmit)(a.state.value),a.setState({value:""})},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.state.value;return r.a.createElement("header",{className:"Searchbar"},r.a.createElement("form",{className:"SearchForm",onSubmit:this.handleSubmit},r.a.createElement("button",{type:"submit",className:"SearchForm-button"},r.a.createElement("span",{className:"SearchForm-button-label"},"Search")),r.a.createElement("input",{value:e,onChange:this.handleChange,className:"SearchForm-input",type:"text",autoComplete:"off",placeholder:"Search images and photos"})))}}]),t}(n.Component),v=function(e){var t=e.item,a=t.webformatURL,n=t.id,c=e.clickImg;return r.a.createElement("li",{className:"ImageGalleryItem",onClick:function(){return c(n)},role:"presentation"},r.a.createElement("img",{id:n,src:a,alt:"",className:"ImageGalleryItem-image"}))},y=function(e){var t=e.items,a=e.clickImg;return r.a.createElement("ul",{className:"ImageGallery"},t.map((function(e){return r.a.createElement(v,{key:e.id,item:e,clickImg:a})})))},k=function(e){var t=e.clickMore;return window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"}),r.a.createElement("button",{onClick:t,className:"Button",type:"button"},"Load more")},E=a(20),I=a.n(E),S=a(21),N=a.n(S),w=function(){return r.a.createElement("div",{className:N.a.loader},r.a.createElement(I.a,{type:"Puff",color:"grey",height:100,width:100}))},O=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={},a.closeImg=function(e){var t=a.props.clickImg;"Escape"===e.code&&t()},a.handleCloseImg=function(e){var t=a.props.clickImg;"Overlay"===e.target.className&&t()},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.closeImg)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.closeImg)}},{key:"render",value:function(){var e=this.props,t=e.items,a=e.idForImage,n=t.find((function(e){return e.id===Number(a)}));return r.a.createElement("div",{onClick:this.handleCloseImg,className:"Overlay",role:"presentation"},r.a.createElement("div",{className:"Modal"},r.a.createElement("img",{src:n.largeImageURL,alt:""})))}}]),t}(n.Component),j=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={items:[],isLoading:!1,searchQuery:"",pageNumber:1,openModal:!1,idForImage:""},a.fetching=function(e,t){a.setState({isLoading:!0}),f(e,t).then((function(e){return a.setState((function(t){return{items:[].concat(Object(i.a)(t.items),Object(i.a)(e.data.hits))}}))})).catch((function(e){throw new Error(e)})).finally((function(){return a.setState({isLoading:!1})}))},a.handleSubmit=function(e){a.setState({searchQuery:e,items:[],pageNumber:1})},a.clickImg=function(e){var t=a.state.openModal;a.setState({openModal:!t,idForImage:e})},a.clickMore=function(){a.setState((function(e){return{pageNumber:e.pageNumber+1}}))},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.fetching()}},{key:"componentDidUpdate",value:function(e,t){var a=this.state,n=a.searchQuery,r=a.pageNumber;t.searchQuery===n&&t.pageNumber===r||this.fetching(n,r)}},{key:"render",value:function(){var e=this.state,t=e.items,a=e.isLoading,n=e.openModal,c=e.idForImage;return r.a.createElement(r.a.Fragment,null,r.a.createElement(b,{onSubmit:this.handleSubmit}),a&&r.a.createElement(w,null),r.a.createElement(y,{items:t,clickImg:this.clickImg}),t.length>0&&r.a.createElement(k,{clickMore:this.clickMore}),n&&r.a.createElement(O,{items:t,idForImage:c,clickImg:this.clickImg}))}}]),t}(n.Component);a(65);o.a.render(r.a.createElement(j,null),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.d99b931a.chunk.js.map