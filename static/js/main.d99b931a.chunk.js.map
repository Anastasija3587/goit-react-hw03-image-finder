{"version":3,"sources":["components/Loader/Loader.module.css","services/api.js","components/SearchBar/SearchBar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Loader/Loader.js","components/Modal/Modal.js","components/App.js","index.js"],"names":["module","exports","keyAPI","getItems","searchQuery","page","axios","get","SearchBar","state","value","handleChange","e","setState","target","handleSubmit","preventDefault","onSubmit","props","this","className","type","onChange","autoComplete","placeholder","Component","ImageGalleryItem","item","webformatURL","id","clickImg","onClick","role","src","alt","ImageGallery","items","map","key","Button","clickMore","window","scrollTo","top","document","documentElement","scrollHeight","behavior","Loader","styles","loader","color","height","width","Modal","closeImg","code","handleCloseImg","addEventListener","removeEventListener","idForImage","itemImage","find","Number","largeImageURL","App","isLoading","pageNumber","openModal","fetching","query","API","then","res","data","hits","catch","err","Error","finally","prevState","prevProps","length","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.d99b931a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__3anxQ\"};","import axios from 'axios';\n\nconst keyAPI = '14824365-e6696933d91165e226b0fb92a';\n\nexport const getItems = (searchQuery = '', page = 1) => {\n  return axios.get(\n    `https://pixabay.com/api/?q=${searchQuery}&page=${page}&key=${keyAPI}&image_type=photo&orientation=horizontal&per_page=12`,\n  );\n};\n\nexport const w = () => null;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nclass SearchBar extends Component {\n  static propTypes = {\n    onSubmit: PropTypes.func.isRequired,\n  };\n\n  state = {\n    value: '',\n  };\n\n  handleChange = e => {\n    this.setState({ value: e.target.value });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    const { onSubmit } = this.props;\n    const { value } = this.state;\n    onSubmit(value);\n    this.setState({ value: '' });\n  };\n\n  render() {\n    const { value } = this.state;\n    return (\n      <header className=\"Searchbar\">\n        <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className=\"SearchForm-button\">\n            <span className=\"SearchForm-button-label\">Search</span>\n          </button>\n\n          <input\n            value={value}\n            onChange={this.handleChange}\n            className=\"SearchForm-input\"\n            type=\"text\"\n            autoComplete=\"off\"\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default SearchBar;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst ImageGalleryItem = ({ item: { webformatURL, id }, clickImg }) => {\n  return (\n    <li\n      className=\"ImageGalleryItem\"\n      onClick={() => clickImg(id)}\n      role=\"presentation\"\n    >\n      <img\n        id={id}\n        src={webformatURL}\n        alt=\"\"\n        className=\"ImageGalleryItem-image\"\n      />\n    </li>\n  );\n};\n\nImageGalleryItem.propTypes = {\n  item: PropTypes.shape({\n    webformatURL: PropTypes.string.isRequired,\n    id: PropTypes.number.isRequired,\n  }).isRequired,\n  clickImg: PropTypes.func.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\n\nconst ImageGallery = ({ items, clickImg }) => {\n  return (\n    <ul className=\"ImageGallery\">\n      {items.map(item => (\n        <ImageGalleryItem key={item.id} item={item} clickImg={clickImg} />\n      ))}\n    </ul>\n  );\n};\n\nImageGallery.propTypes = {\n  items: PropTypes.arrayOf(PropTypes.shape({})).isRequired,\n  clickImg: PropTypes.func.isRequired,\n};\n\nexport default ImageGallery;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst Button = ({ clickMore }) => {\n  window.scrollTo({\n    top: document.documentElement.scrollHeight,\n    behavior: 'smooth',\n  });\n  return (\n    <button onClick={clickMore} className=\"Button\" type=\"button\">\n      Load more\n    </button>\n  );\n};\n\nButton.propTypes = {\n  clickMore: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import React from 'react';\nimport LoaderComponent from 'react-loader-spinner';\nimport styles from './Loader.module.css';\n\nconst Loader = () => {\n  return (\n    <div className={styles.loader}>\n      <LoaderComponent type=\"Puff\" color=\"grey\" height={100} width={100} />\n    </div>\n  );\n};\n\nexport default Loader;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nclass Modal extends Component {\n  static propTypes = {\n    items: PropTypes.arrayOf(PropTypes.shape({})).isRequired,\n    idForImage: PropTypes.number.isRequired,\n    clickImg: PropTypes.func.isRequired,\n  };\n\n  state = {};\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.closeImg);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.closeImg);\n  }\n\n  closeImg = e => {\n    const { clickImg } = this.props;\n    if (e.code !== 'Escape') return;\n    clickImg();\n  };\n\n  handleCloseImg = e => {\n    const { clickImg } = this.props;\n    if (e.target.className !== 'Overlay') return;\n    clickImg();\n  };\n\n  render() {\n    const { items, idForImage } = this.props;\n    const itemImage = items.find(item => item.id === Number(idForImage));\n    return (\n      <div\n        onClick={this.handleCloseImg}\n        className=\"Overlay\"\n        role=\"presentation\"\n      >\n        <div className=\"Modal\">\n          <img src={itemImage.largeImageURL} alt=\"\" />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Modal;\n","import React, { Component } from 'react';\nimport * as API from '../services/api';\nimport SearchBar from './SearchBar/SearchBar';\nimport ImageGallery from './ImageGallery/ImageGallery';\nimport Button from './Button/Button';\nimport Loader from './Loader/Loader';\nimport Modal from './Modal/Modal';\n\nclass App extends Component {\n  state = {\n    items: [],\n    isLoading: false,\n    searchQuery: '',\n    pageNumber: 1,\n    openModal: false,\n    idForImage: '',\n  };\n\n  componentDidMount() {\n    this.fetching();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const { searchQuery, pageNumber } = this.state;\n    if (\n      prevState.searchQuery !== searchQuery ||\n      prevState.pageNumber !== pageNumber\n    ) {\n      this.fetching(searchQuery, pageNumber);\n    }\n  }\n\n  fetching = (query, pageNumber) => {\n    this.setState({ isLoading: true });\n    API.getItems(query, pageNumber)\n      .then(res =>\n        this.setState(state => ({\n          items: [...state.items, ...res.data.hits],\n        })),\n      )\n      .catch(err => {\n        throw new Error(err);\n      })\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  handleSubmit = value => {\n    this.setState({ searchQuery: value, items: [], pageNumber: 1 });\n  };\n\n  clickImg = id => {\n    const { openModal } = this.state;\n    this.setState({ openModal: !openModal, idForImage: id });\n  };\n\n  clickMore = () => {\n    this.setState(prevState => ({ pageNumber: prevState.pageNumber + 1 }));\n  };\n\n  render() {\n    const { items, isLoading, openModal, idForImage } = this.state;\n    return (\n      <>\n        <SearchBar onSubmit={this.handleSubmit} />\n        {isLoading && <Loader />}\n        <ImageGallery items={items} clickImg={this.clickImg} />\n        {items.length > 0 && <Button clickMore={this.clickMore} />}\n        {openModal && (\n          <Modal\n            items={items}\n            idForImage={idForImage}\n            clickImg={this.clickImg}\n          />\n        )}\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport './style.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}